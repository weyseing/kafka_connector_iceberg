{
  "connector.class": "org.apache.iceberg.connect.IcebergSinkConnector",
  "tasks.max": "1",
  
  "topics": "stream_order_intake",

  "iceberg.catalog.type": "glue",
  "iceberg.catalog.glue.warehouse": "s3://iceberg-order/",
  "iceberg.catalog.io-impl": "org.apache.iceberg.aws.s3.S3FileIO",

  "iceberg.tables": "iceberg_db1.orders",
  "iceberg.tables.auto-create-enabled": "true",
  "iceberg.tables.evolve-schema-enabled": "true",
  "iceberg.tables.write.format": "parquet",
  "iceberg.tables.commit.interval-ms": "60000",
  "iceberg.tables.commit.size-rows": "10000",
  "iceberg.tables.default.partition-spec": "BUYER_ID",

  "value.converter": "io.confluent.connect.avro.AvroConverter",
  "value.converter.schemas.enable": "true",
  "value.converter.schema.registry.url": "$SCHEMA_REGISTRY_URL",
  "value.converter.basic.auth.credentials.source": "USER_INFO",
  "value.converter.schema.registry.basic.auth.user.info": "$SCHEMA_REGISTRY_SECRET",

  "key.converter": "io.confluent.connect.avro.AvroConverter",
  "key.converter.schemas.enable": "true",
  "key.converter.schema.registry.url": "$SCHEMA_REGISTRY_URL",
  "key.converter.basic.auth.credentials.source": "USER_INFO",
  "key.converter.schema.registry.basic.auth.user.info": "$SCHEMA_REGISTRY_SECRET",
  
  "errors.log.enable": "true",
  "errors.tolerance": "none",
  "errors.deadletterqueue.context.headers.enable": "true",
  "errors.deadletterqueue.topic.name": "DEFAULT",
  "errors.deadletterqueue.topic.replication.factor": "$TOPIC_REPLICATION"
}